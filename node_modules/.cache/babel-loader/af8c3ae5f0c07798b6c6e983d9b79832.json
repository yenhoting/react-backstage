{"ast":null,"code":"var _jsxFileName = \"C:\\\\Github\\\\backend\\\\src\\\\pages\\\\Menu.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport Table from \"../components/Table\";\nimport DataTable from \"../components/DataTable\";\nimport config from \"../configuration.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Menu = () => {\n  _s();\n\n  const [filter, setFilter] = useState({\n    menuName: \"\"\n  });\n  const [datas, setDatas] = useState([]);\n  const [option, setOption] = useState({});\n  useEffect(() => {\n    setOption({\n      serverSide: true,\n      ajax: {\n        url: urlQuery,\n        type: \"POST\",\n        data: {\n          MenuName: $(\"#MenuName\").val(),\n          ParentID: 0\n        }\n      },\n      order: [[1, \"asc\"]],\n      columns: [{\n        data: \"MenuName\",\n        className: \"text-left\"\n      }, {\n        data: \"Sequence\",\n        className: \"text-center\"\n      }, {\n        data: \"Icon\",\n        className: \"text-left\",\n        orderable: false\n      }, {\n        data: null,\n        className: \"text-right\",\n        orderable: false,\n        render: function (data, type, full, meta) {\n          var html = \"\";\n          html += '<button class=\"btn btn-info\" onclick=\"Detail(\\'' + data.ID + '\\')\"><i class=\"fa fa-file-text-o\"></i> 檢視</button> ';\n          html += '<button class=\"btn btn-info\" onclick=\"Delete(\\'' + data.ID + '\\')\"><i class=\"fa fa-trash-o\"></i> 刪除</button> ';\n          return html;\n        }\n      }]\n    });\n  }, [filter]);\n  const titles = [\"選單名稱\", \"排序\", \"圖示\", \"\"];\n  const columns = [\"MenuName\", \"Sequence\", \"Icon\"];\n\n  const handleChange = event => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    setFilter({\n      [name]: value\n    });\n  };\n\n  const clearField = () => {\n    const tempFilter = { ...filter\n    };\n    Object.keys(tempFilter).forEach(item => {\n      tempFilter[item] = \"\";\n    });\n    setFilter(tempFilter);\n  };\n\n  const handleQuery = () => {\n    axios.post(config.SERVER_URL + \"SYS/MenuListQuery\", {\n      MenuName: filter.menuName\n    }).then(res => {\n      if (res.status === 200) {\n        setDatas(res.data);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-primary\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 19\n                }, this), \" \\u65B0\\u589E\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              id: \"formCriteria\",\n              className: \"form-horizontal\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"control-label\",\n                    children: \"\\u9078\\u55AE\\u540D\\u7A31\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"menuName\",\n                    type: \"text\",\n                    className: \"form-control\",\n                    maxLength: \"20\",\n                    value: filter.menuName,\n                    onChange: handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-footer\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-primary\",\n                onClick: handleQuery,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 19\n                }, this), \" \\u67E5\\u8A62\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-default\",\n                onClick: clearField,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-eraser\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this), \" \\u6E05\\u9664\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      style: {\n        display: datas.length > 0 ? \"block\" : \"none\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(DataTable, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Menu, \"fWdLhVCQuCehxL9qNxjLa+1FKaU=\");\n\n_c = Menu;\nexport default Menu;\n\nvar _c;\n\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"names":["axios","useEffect","useState","Table","DataTable","config","Menu","filter","setFilter","menuName","datas","setDatas","option","setOption","serverSide","ajax","url","urlQuery","type","data","MenuName","$","val","ParentID","order","columns","className","orderable","render","full","meta","html","ID","titles","handleChange","event","target","value","name","clearField","tempFilter","Object","keys","forEach","item","handleQuery","post","SERVER_URL","then","res","status","display","length"],"sources":["C:/Github/backend/src/pages/Menu.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Table from \"../components/Table\";\r\nimport DataTable from \"../components/DataTable\";\r\nimport config from \"../configuration.json\";\r\n\r\nconst Menu = () => {\r\n  const [filter, setFilter] = useState({\r\n    menuName: \"\",\r\n  });\r\n  const [datas, setDatas] = useState([]);\r\n\r\n  const [option, setOption] = useState({});\r\n\r\n  useEffect(() => {\r\n    setOption({\r\n      serverSide: true,\r\n      ajax: {\r\n        url: urlQuery,\r\n        type: \"POST\",\r\n        data: {\r\n          MenuName: $(\"#MenuName\").val(),\r\n          ParentID: 0,\r\n        },\r\n      },\r\n      order: [[1, \"asc\"]],\r\n      columns: [\r\n        {\r\n          data: \"MenuName\",\r\n          className: \"text-left\",\r\n        },\r\n        {\r\n          data: \"Sequence\",\r\n          className: \"text-center\",\r\n        },\r\n        {\r\n          data: \"Icon\",\r\n          className: \"text-left\",\r\n          orderable: false,\r\n        },\r\n        {\r\n          data: null,\r\n          className: \"text-right\",\r\n          orderable: false,\r\n          render: function (data, type, full, meta) {\r\n            var html = \"\";\r\n            html +=\r\n              '<button class=\"btn btn-info\" onclick=\"Detail(\\'' +\r\n              data.ID +\r\n              '\\')\"><i class=\"fa fa-file-text-o\"></i> 檢視</button> ';\r\n            html +=\r\n              '<button class=\"btn btn-info\" onclick=\"Delete(\\'' +\r\n              data.ID +\r\n              '\\')\"><i class=\"fa fa-trash-o\"></i> 刪除</button> ';\r\n            return html;\r\n          },\r\n        },\r\n      ],\r\n    });\r\n  }, [filter]);\r\n\r\n  const titles = [\"選單名稱\", \"排序\", \"圖示\", \"\"];\r\n  const columns = [\"MenuName\", \"Sequence\", \"Icon\"];\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    setFilter({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const clearField = () => {\r\n    const tempFilter = { ...filter };\r\n    Object.keys(tempFilter).forEach((item) => {\r\n      tempFilter[item] = \"\";\r\n    });\r\n    setFilter(tempFilter);\r\n  };\r\n\r\n  const handleQuery = () => {\r\n    axios\r\n      .post(config.SERVER_URL + \"SYS/MenuListQuery\", {\r\n        MenuName: filter.menuName,\r\n      })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          setDatas(res.data);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-12\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">\r\n              <div className=\"text-right\">\r\n                <button type=\"button\" className=\"btn btn-primary\">\r\n                  <i className=\"fa fa-plus\"></i> 新增\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <form id=\"formCriteria\" className=\"form-horizontal\">\r\n                <div className=\"form-group\">\r\n                  <div className=\"col-md-3\">\r\n                    <label className=\"control-label\">選單名稱</label>\r\n                    <input\r\n                      name=\"menuName\"\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      maxLength=\"20\"\r\n                      value={filter.menuName}\r\n                      onChange={handleChange}\r\n                    ></input>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div className=\"card-footer\">\r\n              <div className=\"text-right\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  onClick={handleQuery}\r\n                >\r\n                  <i className=\"fa fa-search\"></i> 查詢\r\n                </button>{\" \"}\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-default\"\r\n                  onClick={clearField}\r\n                >\r\n                  <i className=\"fa fa-eraser\"></i> 清除\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"row\"\r\n        style={{ display: datas.length > 0 ? \"block\" : \"none\" }}\r\n      >\r\n        <div className=\"col-md-12\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <DataTable />\r\n              {/* <Table datas={datas} titles={titles} columns={columns} /> */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}